// RUN: compile_and_run -Werror %s | %FileCheck %s

struct A: Printable {
    var a: StringRef;

    init(a: StringRef) {
        this.a = a;
    }

    def printTo(stream: mutable String*) {
        stream.write(a);
        stream.write(a);
        stream.write("!");
    }
}


def main() {
    // CHECK: foofoo!
    print(A("foo"));
}
